<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Free JavaScript (JS) Exercises - Play Fix a Function</title>
    <meta name="description" content="Free exercises for JavaScript Developers: Practice your front-end JavaScript development skills by fixing these functions">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
    <link rel="stylesheet" href="./styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js"></script>
    <script src="./exercises.js"></script>
</head>
<body>
    <div id="app">
        <h1>Fix a function!</h1>
        <p>For each exercise: change one thing to meet the <span style="background-color: darkmagenta; font-family: monospace; padding: 4px;">Expectation</span></p>
        <main v-if="exercises.length > 0 && livesRemaining > 0">
            <div class="game-bar">
                <div>
                    <a class="button" :href=`https://twitter.com/intent/tweet?hashtags=javascript&ref_src=twsrc%5Etfw&text=I%20scored%20${score}%20playing%20%22Fix%20a%20function%22!%20Can%20you%20beat%20that%3F%20Play%20free%20to%20practice%20your%20JavaScript%20skills!&tw_p=tweetbutton&url=http%3A%2F%2Ffixafunction.com&via=putmionyourteam`>
                        <i class="fab fa-twitter"></i> Score: {{score}}
                    </a>
                    <button v-show="!isSolved && nextHint < exercises[counter].hints.length" @click="needsHint = true; nextHint += 1;" :disabled="didGiveUp">
                        Get hint
                    </button>
                    <button @click="updateChallengeFn" v-show="!isSolved && !didGiveUp">
                        Reset exercise
                    </button>
                    <button class="small" @click="giveUp" v-show="!isSolved" :disabled="didGiveUp">Give up</button>    
                </div>
                <div>
                    <span><i class="fas fa-heart"></i> {{livesRemaining}}</span>
                </div>
            </div>
            <ul v-show="needsHint">
                <li v-for="(hint, index) in exercises[counter].hints" v-show="index == nextHint - 1">
                    Hint {{index + 1}} of {{exercises[counter].hints.length}}: {{hint}}
                </li>
            </ul>
            <section class="desktop-col-group is-code">
                <div>
                    <p class="code-title test" :class="{ solved: isSolved }">{{ isSolved ? "Success" : "Expectation" }}: {{exercises[counter].test}}</p>
                    <pre contenteditable="true" :class="{ solved: isSolved, incorrect: (!isSolved && isWrongAnswer) }">
                        <code id="fn" @click="enableSolveButton"></code>
                    </pre>
                    <p class="code-title">Hints: {{ nextHint }}/{{exercises[counter].hints.length}}, Points: {{ didGiveUp ? 0 : exercises[counter].hints.length - nextHint }}/3</p>
                </div>
                <div v-show="didGiveUp || isSolved">
                    <p class="code-title">Solution</p>
                    <pre class="solved">
                        <code>{{exercises[counter].answer}}</code>
                    </pre>
                    <p class="code-title">Keep going!</p>
                </div>
            </section>
            <p class="is-centered">
                <button v-show="!didGiveUp && !isSolved" @click="checkAttemptedFix" :disabled="awaitingAnotherTry">{{ isWrongAnswer ? "Nope. Try again!" : "Did I fix it?" }}</button>
                <button v-show="isSolved || didGiveUp" @click="prepareNextExercise">Play again?</button>
            </p>
        </main>
        <aside v-else>
            <h2 class="is-centered">Want more? Ask Robert!</h2>
            <img src="https://rmion.com/images/ux-designer-robert-mion.jpg" width="200" height="200" alt="Developer, Robert Mion">
            <form action="" @submit.prevent="recordGame">
                <label for="email">What's your email?</label>
                <input type="email" id="email" v-model="email" required />
                <input type="submit" :value="submitLabel" :disabled="isRecordingSubmission" />
            </form>
        </aside>
    </div>
    <script src="https://unpkg.com/vue"></script>
    <script src="./app.js"></script>
</body>
</html>